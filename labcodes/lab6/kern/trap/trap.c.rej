--- ../OSbak/labcodes/lab5/kern/trap/trap.c	2017-02-26 17:12:48.619510661 +0800
+++ kern/trap/trap.c	2017-04-13 12:26:14.840773329 +0800
@@ -221,16 +229,21 @@
     LAB3 : If some page replacement algorithm(such as CLOCK PRA) need tick to change the priority of pages,
     then you can add code here. 
 #endif
-        /* LAB1 YOUR CODE : STEP 3 */
+        /* LAB1 2013012291 : STEP 3 */
         /* handle the timer interrupt */
         /* (1) After a timer interrupt, you should record this event using a global variable (increase it), such as ticks in kern/driver/clock.c
          * (2) Every TICK_NUM cycle, you can print some info using a funciton, such as print_ticks().
          * (3) Too Simple? Yes, I think so!
          */
-        /* LAB5 YOUR CODE */
+        /* LAB5 2013012291*/
         /* you should upate you lab1 code (just add ONE or TWO lines of code):
          *    Every TICK_NUM cycle, you should set current process's current->need_resched = 1
          */
+        ticks++;
+        if(0 == ticks%TICK_NUM){
+            current->need_resched = 1;
+            //print_ticks();
+        }
   
         break;
     case IRQ_OFFSET + IRQ_COM1:
